<script type=module>
import unload from 'https://cdn.jsdelivr.net/gh/nuxodin/unloadLock/index.js';

checkbox1.addEventListener('change', function(e){
  unload.setLock(this, this.checked);
})

checkbox2.addEventListener('change', function(e){
  unload.setLock(this, this.checked);
})

input1.addEventListener('input', async function(e){
  const resolve = unload.lock();

  this.classList.add('pending');

  await new Promise(resolve=>setTimeout(resolve,2000};

  this.classList.remove('pending');

  resolve();
});

</script>

<input type=checkbox id=checkbox1>
<input type=checkbox id=checkbox2>
<input id=input1>

<style>
  .pending {
    border-color:orange;
  }
</style>
